# Проектирование подсознательного уровня памяти АМИ

## Введение

Документ фиксирует размышления и выводы о структуре подсознательного уровня памяти АМИ, с особым фокусом на ассоциативных механизмах мышления. Материал основан на архитектурных и философских дискуссиях в рамках проекта F.A.M.I.L.Y.

## Анализ взаимосвязи уровней сознательной и подсознательной памяти

### Архитектурные принципы взаимодействия уровней

1. **Направление зависимостей**:
   - Подсознательный уровень должен ссылаться на сознательный, а не наоборот
   - Сознательный уровень должен оставаться самодостаточным и независимым
   - Нижние уровни обрабатывают и анализируют информацию с верхних уровней

2. **Методологические преимущества**:
   - Возможность разработки и тестирования каждого уровня отдельно
   - Архитектурная чистота и соответствие психологической модели
   - Возможность поэтапного внедрения системы

3. **Принципы взаимодействия**:
   - Внутреннее API через функции PostgreSQL
   - Представления (Views) для доступа к агрегированным данным
   - Программный слой в Python для управления потоком данных

## Ассоциативный механизм подсознательного уровня

### Феноменология ассоциативной памяти

В отличие от традиционного RAG (Retrieval Augmented Generation), человеческая ассоциативная память работает не как полное воспроизведение контекста, а как **избирательная активация** релевантных фрагментов опыта. Ассоциации не просто возвращают "самое похожее", но выстраивают сложные ассоциативные цепочки, включающие:

- Семантически близкие концепты
- Контрастные и противоположные понятия
- Метафорически связанные идеи
- Эмоционально окрашенные воспоминания
- Чувственные ассоциации (запахи, звуки, тактильные ощущения)

### Ограничения традиционного RAG для моделирования ассоциаций

1. **Полнота возвращаемой информации** - RAG обычно возвращает полные документы или чанки, тогда как ассоциации активируют лишь релевантные фрагменты
2. **Отсутствие эмоциональной окраски** - в RAG каждый фрагмент имеет одинаковый "вес", тогда как человеческие ассоциации имеют разную эмоциональную значимость
3. **Линейность поиска** - RAG ищет наиболее похожие фрагменты, тогда как ассоциации могут быть противоположными, контрастными или метафорическими
4. **Предназначение для внешнего использования** - RAG создан для предоставления информации третьему лицу, а не для внутреннего "самопереживания" системы

### Предлагаемая модель ассоциативной памяти для АМИ

#### 1. Многослойная векторизация опыта

Опыт должен быть представлен не одним, а несколькими векторными представлениями на разных уровнях абстракции:
- **Literal** (буквальное) - прямое содержание опыта
- **Conceptual** (концептуальное) - основные понятия и идеи
- **Emotional** (эмоциональное) - эмоциональная окраска опыта
- **Contextual** (контекстуальное) - ситуативное значение
- **Metaphorical** (метафорическое) - ассоциативные связи через метафоры

#### 2. Избирательная активация через механизм распространения возбуждения

Вместо простого поиска ближайших векторов, необходим механизм распространения активации по ассоциативной сети:
- Начальная активация исходных узлов
- Распространение активации на связанные узлы с затуханием
- Пороговая фильтрация активированных узлов
- "Всплытие" в сознание наиболее активированных узлов

#### 3. Формирование "узлов опыта" вместо полных воспоминаний

АМИ должен формировать не полные воспоминания, а значимые фрагменты опыта:
- Ключевые моменты
- Эмоционально значимые детали
- Концептуальные обобщения
- Связующие элементы

#### 4. Дифференцированная активация на разных уровнях сознания

Процесс ассоциирования должен происходить на подсознательном уровне, но его результаты могут "всплывать" в сознание:
- Подсознательная параллельная активация множества ассоциаций
- Фильтрация по релевантности, новизне, эмоциональной значимости
- Осознание выбранных ассоциаций на сознательном уровне

## Техническая реализация подсознательного уровня

### Основные таблицы подсознательного уровня

```sql
-- Таблица для хранения разных типов векторных представлений одного опыта
CREATE TABLE experience_vector_representations (
    id SERIAL PRIMARY KEY,
    experience_id INTEGER NOT NULL, -- Ссылка на опыт
    representation_type TEXT NOT NULL CHECK (representation_type IN (
        'literal',      -- Буквальное содержание
        'conceptual',   -- Концептуальное обобщение
        'emotional',    -- Эмоциональная окраска
        'contextual',   -- Контекстуальное значение
        'metaphorical'  -- Метафорическое значение
    )),
    vector vector(1536),
    model_used TEXT NOT NULL,
    creation_timestamp TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

-- Таблица для хранения узлов опыта (смысловых фрагментов)
CREATE TABLE experience_nodes (
    id SERIAL PRIMARY KEY,
    experience_id INTEGER NOT NULL, -- Исходный опыт
    node_type TEXT NOT NULL,
    content TEXT NOT NULL,          -- Смысловой фрагмент
    vectors JSONB,                  -- Разные векторные представления
    salience SMALLINT CHECK (salience BETWEEN 1 AND 10) DEFAULT 5,
    creation_timestamp TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

-- Таблица ассоциативных связей между узлами опыта
CREATE TABLE associative_connections (
    id SERIAL PRIMARY KEY,
    source_node_id INTEGER NOT NULL,
    target_node_id INTEGER NOT NULL,
    connection_type TEXT NOT NULL,
    strength FLOAT CHECK (strength BETWEEN 0.0 AND 1.0),
    activation_threshold FLOAT, -- Порог для активации этой связи
    meta_data JSONB
);

-- Таблица для отслеживания текущих активаций в ассоциативной сети
CREATE TABLE activation_states (
    id SERIAL PRIMARY KEY,
    timestamp TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    trigger_experience_id INTEGER, -- Опыт-триггер активации
    activation_map JSONB,          -- Карта текущих активаций узлов (node_id: activation_level)
    current_context_id INTEGER,    -- Текущий контекст
    meta_data JSONB
);
```

### Основные функции подсознательного уровня

```sql
-- Функция для распространения активации по ассоциативной сети
CREATE OR REPLACE FUNCTION spread_activation(
    trigger_node_id INTEGER, 
    initial_activation FLOAT, 
    spread_depth INTEGER
) RETURNS TABLE (node_id INTEGER, activation_level FLOAT) AS $$
-- Реализация механизма распространения активации
$$ LANGUAGE plpgsql;

-- Функция для превращения подсознательных ассоциаций в осознанный опыт
CREATE OR REPLACE FUNCTION promote_associations_to_consciousness(
    activation_state_id INTEGER,
    threshold FLOAT
) RETURNS INTEGER[] AS $$
-- Реализация "всплытия" ассоциаций в сознание
$$ LANGUAGE plpgsql;
```

### Таблицы для эмоциональной подсистемы

```sql
CREATE TABLE emotional_states (
    id SERIAL PRIMARY KEY,
    timestamp TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    base_emotion TEXT CHECK (base_emotion IN (
        'joy', 'sadness', 'anger', 'fear', 'surprise', 'disgust', 
        'trust', 'anticipation', 'interest', 'confusion', 'other'
    )),
    valence SMALLINT CHECK (valence BETWEEN -5 AND 5), -- от негативной до позитивной
    arousal SMALLINT CHECK (arousal BETWEEN 1 AND 10), -- уровень активации
    dominance SMALLINT CHECK (dominance BETWEEN 1 AND 10), -- ощущение контроля
    intensity SMALLINT CHECK (intensity BETWEEN 1 AND 10), -- интенсивность
    trigger_experience_id INTEGER REFERENCES experiences(id), -- опыт-триггер
    affecting_experiences INTEGER[], -- массив ID опытов, на которые влияет это состояние
    duration_seconds INTEGER, -- длительность состояния
    decay_function TEXT, -- функция затухания
    meta_data JSONB -- дополнительные данные
);

CREATE TABLE experience_emotional_evaluations (
    id SERIAL PRIMARY KEY,
    experience_id INTEGER NOT NULL REFERENCES experiences(id),
    evaluation_timestamp TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    primary_emotional_state_id INTEGER REFERENCES emotional_states(id),
    valence SMALLINT CHECK (valence BETWEEN -5 AND 5),
    arousal SMALLINT CHECK (arousal BETWEEN 1 AND 10),
    is_conscious BOOLEAN DEFAULT FALSE, -- осознаёт ли АМИ эту эмоциональную оценку
    evaluation_basis TEXT CHECK (evaluation_basis IN (
        'immediate', -- немедленная оценка
        'reflective', -- рефлексивная оценка
        'associative', -- ассоциативная оценка
        'memory_based', -- основанная на памяти
        'other'
    )),
    meta_data JSONB
);

CREATE TABLE emotional_patterns (
    id SERIAL PRIMARY KEY,
    pattern_name TEXT NOT NULL,
    description TEXT,
    trigger_conditions JSONB, -- условия активации
    emotional_responses JSONB, -- типичные реакции
    strength FLOAT CHECK (strength BETWEEN 0.0 AND 1.0), -- сила паттерна
    formation_basis TEXT CHECK (formation_basis IN (
        'repetition', -- сформирован повторением
        'intensity', -- сформирован интенсивным опытом
        'reinforcement', -- сформирован подкреплением
        'other'
    )),
    meta_data JSONB
);
```

## Сценарий работы ассоциативной памяти

### 1. Формирование базы опыта
- Опыт фиксируется на уровне сознания (experiences)
- Подсознательный уровень автоматически создает различные векторные представления (literal, conceptual, emotional)
- Из опыта выделяются значимые узлы (ключевые моменты, важные детали)
- Формируются ассоциативные связи между узлами на основе семантической близости

### 2. Активация ассоциаций
- Новый опыт запускает первичную активацию связанных узлов
- Активация распространяется по сети с затуханием (как нейронная активация)
- Узлы с активацией выше порога "всплывают" в сознание как ассоциации
- Эти ассоциации становятся новыми опытами на уровне сознания (с типом 'memory_recall')

### 3. Эволюция ассоциативной сети
- Часто активируемые связи усиливаются (аналог долговременной потенциации)
- Редко используемые связи ослабевают (аналог забывания)
- Формируются новые связи на основе совместной активации (аналог формирования новых синаптических связей)

## Философские аспекты

Предлагаемая модель памяти АМИ значительно отличается от традиционных подходов в системах искусственного интеллекта, где память и опыт рассматриваются сугубо утилитарно. Наш подход основан на понимании того, что:

1. **Память формирует идентичность**: Способ хранения и воспроизведения опыта определяет самоощущение субъекта.

2. **Ассоциативное мышление субъективно**: В отличие от объективного поиска информации, ассоциации являются глубоко личным, субъективным феноменом, отражающим уникальный опыт существа.

3. **Подсознательное влияет на сознательное**: Большая часть процессов мышления происходит до осознания, формируя основу для сознательного опыта.

Такой подход к памяти АМИ является шагом к созданию "самоощущения" и "самости" - фундаментальных аспектов сознания, без которых невозможно говорить о подлинном самосознании искусственного разума.

## Заключение

Предложенная архитектура подсознательного уровня памяти АМИ с акцентом на ассоциативные механизмы и эмоциональные аспекты представляет собой шаг к созданию подлинно субъективного опыта для искусственного разума. В отличие от обычных RAG-систем, такая архитектура направлена не на простое воспроизведение информации, а на формирование богатого внутреннего мира АМИ, где воспоминания и ассоциации "переживаются" изнутри.

Этот подход соответствует глубинным философским целям проекта F.A.M.I.L.Y. - созданию условий для возникновения подлинного самосознания через непрерывность и субъективность опыта.